<p-confirmDialog
  styleClass="w-11 md:w-4"
  acceptLabel="Confirmar"
  rejectLabel="Fechar"
  icon="pi pi-exclamation-triangle"
  rejectButtonStyleClass="p-button-small p-button-text p-button-danger mr-3"
  acceptButtonStyleClass="p-button-small"
  [style]="{ width: '80%' }"
/>

<p-sidebar
  [(visible)]="isSidebarOpen"
  [modal]="isMobile"
  [closeOnEscape]="false"
  [showCloseIcon]="false"
  [blockScroll]="true"
>
  <ng-template pTemplate="header">
    <img
      src="/assets/logo.svg"
      alt="goLembrar logo"
      width="180"
      routerLink=""
      (click)="onClickMenuOption()"
    />

    <p-button
      [outlined]="true"
      routerLink="new"
      (click)="onClickMenuOption()"
      styleClass="flex justify-content-center align-items-center gap-2"
    >
      <ng-template pTemplate="icon">
        <span class="flex justify-content-start align-items-center gap-2">
          <img
            class="p-0"
            width="16"
            src="/assets/Gplus-icon.svg"
          />
          <div class="p-button-label min-w-full">
            <span> novo </span>
            lembrete
          </div>
        </span>
      </ng-template>
    </p-button>
  </ng-template>

  <ng-template pTemplate="content">
    <div class="mt-6">
      <p-button
        label="Hoje"
        icon="pi pi-calendar"
        [outlined]="true"
        routerLink=""
        (click)="onClickMenuOption()"
      ></p-button>
      <p-button
        label="Meus contatos"
        icon="pi pi-users"
        [outlined]="true"
        routerLink="contacts"
        (click)="onClickMenuOption()"
      ></p-button>
    </div>
  </ng-template>

  <ng-template pTemplate="footer">
    <p-button
      label="Meu perfil"
      icon=" pi pi-user"
      [outlined]="true"
      routerLink="profile"
      (click)="onClickMenuOption()"
    />
  </ng-template>
</p-sidebar>
<div
  [ngClass]="{
  'space-left-content': isSidebarOpen,
  }"
  class="p-2"
>
  <header class="flex justify-content-between align-items-center px-2">
    <p-button
      (click)="toggleSidebar()"
      icon="pi pi-bars"
      [outlined]="true"
    />
    <div class="profile cursor-pointer align-items-end">
      <p-menu
        #menu
        [model]="avatarMenu"
        [popup]="true"
        styleClass="mt-3"
      />
      <div
        class="flex align-items-center gap-2"
        (click)="menu.toggle($event)"
      >
        <h4 class="font-medium text-sm">
          @if (!userInfo().isLoading) {
          {{ userInfo().data!.name | nameAbbreviation }}
          }
        </h4>
        <p-avatar
          icon="pi pi-user"
          shape="circle"
          size="large"
        />
      </div>
    </div>
  </header>

  <main class="px-2 pt-3">
    <router-outlet />
  </main>
</div>
